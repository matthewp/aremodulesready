(function(){'use strict';function a(K,L,M){if(v.test(L)){let O=L.toLowerCase(),P=u.from(M).id;return[1,O,P]}}function c(K,L,M){const N=arguments.length;2===N?('object'!=typeof L||Array.isArray(L))&&(M=L,L=null):(3<N||M instanceof w||'string'==typeof M)&&(M=Array.prototype.slice.call(arguments,2));if('function'==typeof K){var P=K.prototype.localName;return P?c(P,L,M):K(L||{},M)}var Q=new w;if(L){var R;L=Object.keys(L).reduce(function(T,U){var V=L[U],W=a(K,U,V,L);return W?(!R&&(R=[]),R.push(W)):(T.push(U),T.push(V)),T},[])}var S=[1,K];return L&&S.push(L),R&&S.push(R),Q.push(S),M&&M.forEach(function(T){if('string'==typeof T)return void Q.push([4,T]);for(;T&&T.length;)Q.push(T.shift())}),Q.push([2,K]),Q}function d(K,L){return K._instances[L]}function e(K,L,M){K._instances[L]=M}function f(K,L){let M=L.id,N=L.props||{},O=d(K,M),P;if(!O){let R=K._tags[L.tag];O=new R,Object.defineProperty(O,'_fritzId',{enumerable:!1,value:M}),e(K,M,O),P=R.observedEvents}Object.assign(O,N);let Q=O.render();postMessage({type:o,id:M,tree:Q,events:P})}function g(K,L){let M=d(K,L.id),N=Object.create(null),O;if(null!=L.handle)O=u.get(L.handle).fn;else{let P='on'+L.name[0].toUpperCase()+L.name.substr(1);O=M[P]}if(O){let P=new y(L.name);P.value=L.value,O.call(M,P),N.type=o,N.id=L.id,N.tree=M.render(),N.event=P.serialize(),postMessage(N)}else;}function i(K){z||(z=!0,self.addEventListener('message',function(L){let M=L.data;switch(M.type){case o:f(K,M);break;case p:g(K,M);break;case q:K.state=M.state;}}))}function k(K){return function(L,M){return{name:K,supported:L,flag:M}}}function l(K,L){return K.filter(L)[0]}const o='render',p='event',q='state';class r{dispatch(K){let L=this._fritzId;postMessage({type:'trigger',event:K,id:L})}update(){let K=this._fritzId;postMessage({type:o,id:K,tree:this.render()})}}let s,t;s=class{constructor(){this.handleMap=new WeakMap,this.idMap=new Map,this.id=0}from(K){let L,M=this.handleMap.get(K);return null==M?(M=this.id++,L=new t(M,K),this.handleMap.set(K,M),this.idMap.set(M,L)):L=this.idMap.get(M),L}get(K){return this.idMap.get(K)}},t=class{static get store(){return this._store||(this._store=new s),this._store}static from(K){return this.store.from(K)}static get(K){return this.store.get(K)}constructor(K,L){this.id=K,this.fn=L}};var u=t;const v=/^on[A-Z]/;class w extends Array{}class x{serialize(){let K=Object.create(null);return Object.assign(K,this)}}class y extends x{constructor(K){super(),this.type=K,this.defaultPrevented=!1}preventDefault(){this.defaultPrevented=!0}}let z=!1;const A=Object.create(null);A.Component=r,A.define=function(K,L){if(L===void 0)throw new Error('fritz.define expects 2 arguments');A._tags[K]=L,Object.defineProperty(L.prototype,'localName',{enumerable:!1,value:K}),i(A),postMessage({type:'define',tag:K,props:L.props})},A.h=c,A._tags=Object.create(null),A._instances=Object.create(null);let B;Object.defineProperty(A,'state',{set:function(K){B=K},get:function(){return B}});const C=k('Chrome'),D=k('Safari'),E=k('Edge'),F=k('Firefox');class I extends r{static get props(){return{feature:{}}}render(){let K=this.feature;return K?A.h('article',null,A.h('style',null,'.arm,\n.feature,\n.results {\n  display: flex;\n}\n\n.arm {\n  background: var(--secondary);\n}\n\n.feature {\n  flex-direction: column;\n  flex: 2;\n}\n\n.results {\n  flex-direction: column;\n  flex: 2;\n}\n\n.browsers {\n  align-self: flex-end;\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n.browser {\n  display: inline-block;\n  padding: 0.7em;\n  margin: 0.3em;\n}\n\n.browser img {\n  width: 5em;\n}\n\n.browser.supported {\n  background: #376D37;\n}\n\n.browser:not(.supported) {\n  background: #F24236;\n}'),A.h('div',{'class':'arm'},A.h('header',{'class':'feature'},A.h('slot',{name:'label'}),A.h('slot',{name:'desc'})),A.h('div',{'class':'results'},A.h('ul',{'class':'browsers'},['Chrome','Firefox','Safari','Edge'].map((L)=>{let M=l(K,(O)=>O.name===L),N=['browser',M.supported?'supported':''];return A.h('li',{'class':N.join(' ')},A.h('img',{src:`/img/${L.toLowerCase()}.png`,title:L}))})),A.h('slot',{name:'notes'})))):A.h('div',null)}}A.define('module-feature',I);A.define('are-modules-ready',class extends r{constructor(){super(),this.script=[C(!0,!0),F(!0,!0),E(!0,!0),D(!0)],this.workers=[C(!1),F(!1),E(!1),D(!1)],this.dynamic=[C(!1),F(!1),E(!1),D(!0,!0)]}render(){const{script:K,workers:L,dynamic:M}=this;return A.h('main',null,A.h('style',null,'.title {\n  text-align: center;\n  font-size: 300%;\n  margin: 1em 0;\n}\n\n.features {\n  list-style-type: none;\n  padding: 0;\n  max-width: 900px;\n  margin: auto;\n}\n\nmodule-feature {\n  display: block;\n  margin-top: 1em;\n}\n\n[slot=label] {\n  background-color: var(--banner);\n  margin: 0;\n  padding: 0.3em 0.5em;\n}\n\n[slot=desc] {\n  padding: 0 0.5em;\n  color: var(--light);\n  font-size: 110%;\n  line-height: 1.5em;\n}\n\n[slot=desc] a,\n[slot=desc] a:visited {\n  color: var(--light);\n  font-weight: bold;\n}\n\n.note {\n  padding: 0.5em;\n  line-height: 1.5em;\n}\n\n.note:nth-child(even) {\n  background: #FA824C;\n  color: var(--dark);\n}\n\n.note:nth-child(even) a,\n.note:nth-child(even) a:visited {\n  color: var(--dark);\n  font-weight: bold;\n}\n\n.note:nth-child(odd) {\n  background: var(--dark);\n  color: var(--light);\n}\n\n.note:nth-child(odd) a,\n.note:nth-child(odd) a:visited {\n  color: var(--light);\n  font-weight: bold;\n}\n\n.closing {\n  margin: 1.5em 0;\n  text-align: center;\n  font-size: 200%;\n  font-weight: bold;\n  font-style: italic;\n}'),A.h('h1',{'class':'title'},'Are Modules Ready?'),A.h('article',{'class':'features'},A.h('module-feature',{feature:K},A.h('h2',{slot:'label'},'<script type="module">'),A.h('p',{slot:'desc'},'The ability to load a module and its dependencies from a <script> tag.'),A.h('section',{slot:'notes'},A.h('div',{'class':'note'},A.h('strong',null,'Chrome'),': Available in Chrome 60 (currently in Canary) behind a flag. Enable ',A.h('strong',null,'Experimental Web Platform features'),' in chrome://flags to use.'),A.h('div',{'class':'note'},A.h('strong',null,'Firefox'),': Available in Firefox 54 behind a flag. In about:config search for ',A.h('em',null,'dom.moduleScripts.enabled'),' and set to true.'),A.h('div',{'class':'note'},A.h('strong',null,'Safari'),': Available in Safari 10.1.'),A.h('div',{'class':'note'},A.h('strong',null,'Edge'),': Available via the Windows Insider Program.'))),A.h('module-feature',{feature:L},A.h('h2',{slot:'label'},'Worker modules'),A.h('p',{slot:'desc'},'Create Web Workers that are modules (and are able to import other modules) using ',A.h('code',null,'new Worker(path,  type: "module") ')),A.h('section',{slot:'notes'},A.h('div',{'class':'note'},A.h('strong',null,'Chrome'),': ',A.h('a',{href:'https://bugs.chromium.org/p/chromium/issues/detail?id=680046'},'Not yet in progress'),'.'),A.h('div',{'class':'note'},A.h('strong',null,'Firefox'),': ',A.h('a',{href:'https://bugzilla.mozilla.org/show_bug.cgi?id=1247687'},'Not yet in progress'),'.'),A.h('div',{'class':'note'},A.h('strong',null,'Safari'),': Not yet implemented.'),A.h('div',{'class':'note'},A.h('strong',null,'Edge'),': Not yet implemented.'))),A.h('module-feature',{feature:M},A.h('h2',{slot:'label'},'import()'),A.h('p',{slot:'desc'},'Provides the ability to dynamically import a module from within a module or a script. ',A.h('a',{href:'https://tc39.github.io/proposal-dynamic-import/'},'Spec'),'.'),A.h('section',{slot:'notes'},A.h('div',{'class':'note'},A.h('strong',null,'Chrome'),': ',A.h('a',{href:'https://bugs.chromium.org/p/chromium/issues/detail?id=711706'},'Not yet in progress'),'.'),A.h('div',{'class':'note'},A.h('strong',null,'Firefox'),': ',A.h('a',{href:'https://bugzilla.mozilla.org/show_bug.cgi?id=1342012'},'Not yet in progress'),'.'),A.h('div',{'class':'note'},A.h('strong',null,'Safari'),': Available in Safari Technology Preview.'),A.h('div',{'class':'note'},A.h('strong',null,'Edge'),': Not yet implemented.')))),A.h('div',{'class':'closing'},'We are getting there \uD83E\uDD20!'))}})})();

